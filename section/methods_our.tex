\section{ขั้นตอนวิธีเชิงตัวเลขที่นำเสนอ}
\subsection{ขั้นตอนวิธีเชิงตัวเลขสำหรับต่อเติมภาพศิลปะ}

\hspace{1cm} สำหรับวิธีการซ่อมแซมภาพสศิลปะไทย จะใช้วิธีการสปริทเบรกแมนเพื่อหลีกเลี่ยงปัญหาเชิงตัวเลขที่จะเกิดขึ้น แต่เพื่อให้วิธีการสปริทเบรกแมนประมวลผลภาพได้รวดเร็วขึ้น ผู้วิจัยได้พัฒนากระบวนการกำหนดคำตอบเริ่มต้น โดยวิธีการ มัลติรีโซลูชัน (multi-resolution method) หรือวิธีการพีระมิดรูปภาพ (pyramid method) \cite{ref:image-pyramid}
เริ่มจากการย่อขนาดรูปลงครึ่งนึงโดยใช้วิธี Bilinear Interpolation จนกระทั่งถึงระดับความคมชัดที่ต้องการ จากนั้นทำการต่อเติมภาพขนาดเล็ก และนำผลลัพธ์ที่ได้จากภาพขนาดเล็กทำการขยายภาพขึ้นสองเท่าโดยใช้ Bilinear Interpolation เป็นคำตอบเริ่มต้นสำหรับการต่อเติมภาพในชั้นถัดไป
\input{figure/image-pyramid}
\hspace{1cm} ขั้นตอนวิธีสำหรับการทำพีระมิดรูปภาพสำหรับการต่อเติมภาพแบบสปริทเบรกแมนเพื่อให้ประมวลผลได้เร็วขึ้นนั้นสามารถสรุปได้ดังนี้\\


\input{algorithm/MultiSplitBregmanColorInpaint}

\vspace{0.5cm}

\input{algorithm/bilinear_interpolation}

\hspace{1cm} นอกจากนี้แล้ว ผู้วิจัยยังได้สังเกตอีกว่า การทำซ้ำนั้นจะลู่เข้าเร็วในช่วงแรก จากนั้นความเร็วในการลู่เข้าจะลดลง ซึ่งทำให้การทำซ้ำเพียงไม่กี่ครั้งในระดับความคมชัดเดิม  มีผลการซ่อมแซมภาพจนแสดงความคล้ายคลึงกับภาพต้นฉบับได้

\input{figure/just10enough}

\hspace{1cm} ผู้วิจัยจึงกำหนดให้การทำซ้ำในระดับความละเอียดสูงสุดเท่ากับ 10 ครั้ง เพราะการทำซ้ำในระดับความละเอียดสูงสุดทำให้ทำงานได้ช้า อีกทั้งการทำซ้ำในชั้นที่รูปภาพมีขนาดเล็กจำนวนมาก ไม่ช่วยให้การประมวลผลได้เร็วขึ้น ผู้วิจัยจึงเลือกใช้การทำซ้ำแบบ 10/3/3/10 ในการต่อเติมภาพ


\subsection{ขั้นตอนวิธีเชิงตัวเลขสำหรับซ่อมแซมภาพวิดีโอ}

\hspace{1cm}เนื่องจากไฟล์วิดีโอนั้นประกอบด้วยชุดของภาพหลายภาพ กล่าวคือ $V = \{\boldsymbol{u}_i| i = 1,2,3 ... N_f\}$ ทำให้ขั้นตอนวิธีการลบคำบรรยายออกจากวิดีโอ จะต้องทำการต่อเติมบริเวณที่เป็นบทบรรยายทีละภาพ ดังที่แสดงในขั้นตอนวิธีต่อไปนี้ \\
	
\input{algorithm/removesubtitle}

\vspace{1cm}
\hspace{1cm} โดยขั้นตอนการต่อเติมภาพ $\boldsymbol{u}_i$ ด้วยโดเมนต่อเติม $D$ นั้นจะสามารถใช้วิธีการเดียวกับการซ่อมแซมภาพศิลปะไทยได้ ส่วนการหาโดเมนต่อเติมซึ่งเป็นบทบรรยายอนิเมะ จะกล่าวถึงในหัวข้อย่อยถัดไป

\subsection{การหาบทบรรยายบนอนิเมะ}	
\hspace{1cm}ก่อนจะลบบทบรรยายนั้น จำเป็นต้องหาบทบรรยายในภาพให้ได้เสียก่อน โดยบทบรรยายของอนิเมะนั้น มักจะใช้ขอบของตัวอักษรเป็นสีดำ อีกทั้งบทบรรยายนั้นจะลอยห่างออกมาจากขอบของวิดีโอ และขนาดของคำบรรยายนั้นจะมีขนาดอยู่ประมาณหนึ่งไม่ใหญ่หรือไม่เล็กเกินไป ด้วยสมบัตินี้เองทำให้จึงสามารถหาบริเวณบนเฟรมที่เป็นบทบรรยายได้โดยจะมีวิธีหาพื้นที่ซึ่งเป็นบทบรรยายดังนี้
	
\vspace{1cm}

\input{algorithm/findsubtitle}

\subsection{การลบคำบรรยายจากบทอนิเมะ}

\hspace{1cm} สำหรับอนิเมะนั้น แต่ละเฟรมจะเป็นรูปภาพ เราจึงสามารถประยุกต์ใช้วิธีการซ่อมแซมภาพจิตรกรรมไทย มาใช้ในการลบคำบรรยายได้ แต่ผู้วิจัยก็ได้สังเกตว่า สำหรับอนิเมะที่เป็นวิดีโอแล้ว ในขณะที่ประมวลผลวิดีโอ เราสามารถใช้ผลการต่อเติมภาพจากภาพที่แล้ว มาใช้เป็นคำตอบเริ่มต้นจึงได้ว่าขึ้นตอนการลบบทบรรยายออกจากวิดีโอมีดังนี้\\
	
\vspace{0.5cm}
\input{algorithm/subtitle_iterator}
\vspace{0.5cm}

\hspace{1cm}  $RemoveByBorrowFrame(\boldsymbol{u}_{i},D,u_{i+1})$  คือขั้นตอนวิธีที่ \ref{algorithm:subtitle_borrowframe} ซึ่งในทำนองเดียวกันเราสามารถเปลี่ยน $RemoveByBorrowFrame(u_{i},D,\boldsymbol{u}_{i+1})$ เป็น $RemoveBySkipFrame(\boldsymbol{u}_{i},D,u_{i+1})$ เพื่อใช้กับขั้นตอนวิธี \ref{algorithm:subtitle_skipframe} และเปลี่ยนเป็น  $RemoveBySkipAndBorrowFrame(\boldsymbol{u}_{i},D,\boldsymbol{u}_{i+1})$ เพื่อใช้กับขั้นตอนวิธี \ref{algorithm:subtitle_skipnborrowframe} ได้ \\	

\vspace{0.5cm}	
\hspace{1cm} ขั้นตอนวิธี การยืมเฟรม จะเป็นการนำผลลัพธ์จากเฟรมก่อนหน้ามาเป็นคำตอบในการเริ่มต้นในการประมวลผลเพื่อให้ผลลัพธ์ลู่เข้าได้เร็วขึ้น \\
	
\vspace{0.5cm}
\input{algorithm/subtitle_borrowframe}
\hspace{1cm}ขั้นตอนวิธี การข้ามเฟรม สำหรับเฟรมใดที่ผลลัพธ์ใกล้เคียงกันมาก จะทำการข้ามการต่อเติมภาพในเฟรมนั้นไปโดยใช้คำตอบจากเฟรมก่อนหน้าแทนเพื่อลดเวลาการประมวลผล \\ 
\vspace{0.5cm}
\input{algorithm/subtitle_skipframe}
\vspace{0.5cm}
\hspace{1cm}ขั้นตอนวิธี การข้ามและยืมเฟรม คือขั้นตอนวิธี \ref{algorithm:subtitle_borrowframe} และขั้นตอนวิธี \ref{algorithm:subtitle_skipframe} ที่นำมาประยุกต์ใช้งานร่วมกัน\\
\vspace{0.5cm}
\input{algorithm/subtitle_skipnborrowframe}

\hspace{1cm}จากนั้นทางผู้พัฒนาจะนำวิธีการลบบทบรรยายอนิเมะที่นำเสนอนี้ไปทดลองลบบทบรรยายเพื่อเปรียบเทียบประสิทธิภาพกับวิธีสปริทเบรกแมนเดิมที่นำมาใช้กับวิดีโอ 